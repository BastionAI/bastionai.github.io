<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ page.title }} | {{ site.title }}</title>
  <meta name="description" content="{{ page.description | default: page.excerpt | strip_html | truncate: 160 }}">
  
  <!-- CSS -->
  <link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}">
  <link rel="stylesheet" href="{{ '/assets/css/navigation.css' | relative_url }}">
  <link rel="stylesheet" href="{{ '/assets/css/footer.css' | relative_url }}">
  <link rel="stylesheet" href="{{ '/assets/css/pages.css' | relative_url }}">
  <link rel="stylesheet" href="{{ '/assets/css/blog.css' | relative_url }}">
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="{{ '/assets/images/logos/bastion-ai-logo.png' | relative_url }}">
  
  <!-- Open Graph / Social Media -->
  <meta property="og:type" content="article">
  <meta property="og:title" content="{{ page.title }}">
  <meta property="og:description" content="{{ page.description | default: page.excerpt | strip_html | truncate: 160 }}">
  <meta property="og:url" content="{{ page.url | absolute_url }}">
  <meta property="article:author" content="{{ page.author | default: 'Freddy Ayala' }}">
  <meta property="article:published_time" content="{{ page.date | date_to_xmlschema }}">
  {% for tag in page.tags %}
  <meta property="article:tag" content="{{ tag }}">
  {% endfor %}
</head>
<body>
  {% include navigation.html %}
  
  <main>
    <article class="blog-post-layout">
      <!-- Blog Post Header -->
      <header class="post-hero">
        <div class="container">
          <div class="post-header-content">
            <nav class="breadcrumbs">
              <a href="/">Home</a>
              <span class="separator">›</span>
              <a href="/blog/">Blog</a>
              <span class="separator">›</span>
              <span class="current">{{ page.title }}</span>
            </nav>
            
            <div class="post-category-badge">{{ page.category }}</div>
            <h1 class="post-title">{{ page.title }}</h1>
            
            {% if page.subtitle %}
            <p class="post-subtitle">{{ page.subtitle }}</p>
            {% endif %}
            
            <div class="post-meta">
              <div class="author-info">
                <div class="author-avatar">
                  <span class="initials">{{ page.author | default: 'FA' | slice: 0, 2 | upcase }}</span>
                </div>
                <div class="author-details">
                  <span class="author-name">{{ page.author | default: 'Freddy Ayala' }}</span>
                  <span class="author-title">{{ page.author_title | default: 'Founder & CEO, BastionAI' }}</span>
                </div>
              </div>
              <div class="post-info">
                <time datetime="{{ page.date | date_to_xmlschema }}">{{ page.date | date: "%B %d, %Y" }}</time>
                <span class="reading-time">{{ content | reading_time }} min read</span>
              </div>
            </div>
            
            {% if page.tags %}
            <div class="post-tags">
              {% for tag in page.tags %}
              <span class="tag">{{ tag }}</span>
              {% endfor %}
            </div>
            {% endif %}
          </div>
        </div>
      </header>
      
      <!-- Blog Post Content -->
      <section class="post-content">
        <div class="container">
          <div class="content-wrapper">
            <div class="post-body">
              {{ content }}
            </div>
            
            <!-- Table of Contents (if enabled) -->
            {% if page.toc %}
            <aside class="table-of-contents">
              <h3>Table of Contents</h3>
              <div id="toc"></div>
            </aside>
            {% endif %}
          </div>
        </div>
      </section>
      
      <!-- Related Posts -->
      {% assign related_posts = site.posts | where: "category", page.category | limit: 3 %}
      {% if related_posts.size > 0 %}
      <section class="related-posts">
        <div class="container">
          <h2>Related Articles</h2>
          <div class="related-grid">
            {% for post in related_posts %}
            {% unless post.url == page.url %}
            <article class="related-post">
              <div class="related-category">{{ post.category }}</div>
              <h3><a href="{{ post.url }}">{{ post.title }}</a></h3>
              <p>{{ post.excerpt | strip_html | truncate: 120 }}</p>
              <div class="related-meta">
                <time>{{ post.date | date: "%B %d, %Y" }}</time>
                <span class="reading-time">{{ post.content | reading_time }} min read</span>
              </div>
            </article>
            {% endunless %}
            {% endfor %}
          </div>
        </div>
      </section>
      {% endif %}
      
      <!-- Newsletter Signup -->
      <section class="newsletter-signup">
        <div class="container">
          <div class="newsletter-content">
            <h2>Stay Updated</h2>
            <p>Get notified when new articles are published. Deep insights on AI democratization, enterprise architecture, and technology leadership.</p>
            <div class="signup-form">
              <input type="email" placeholder="Enter your email" class="email-input">
              <button class="subscribe-btn">Subscribe</button>
            </div>
            <p class="privacy-note">We respect your privacy. No spam, unsubscribe anytime.</p>
          </div>
        </div>
      </section>
    </article>
  </main>
  
  <footer>
    <!-- Footer content will be included by Jekyll -->
  </footer>
  
  <!-- Table of Contents Generator (if enabled) -->
  {% if page.toc %}
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      generateTableOfContents();
    });
    
    function generateTableOfContents() {
      const headings = document.querySelectorAll('.post-body h2, .post-body h3, .post-body h4');
      const toc = document.getElementById('toc');
      
      if (headings.length === 0) return;
      
      const tocList = document.createElement('ul');
      tocList.className = 'toc-list';
      
      headings.forEach((heading, index) => {
        const id = `heading-${index}`;
        heading.id = id;
        
        const li = document.createElement('li');
        li.className = `toc-${heading.tagName.toLowerCase()}`;
        
        const link = document.createElement('a');
        link.href = `#${id}`;
        link.textContent = heading.textContent;
        
        li.appendChild(link);
        tocList.appendChild(li);
      });
      
      toc.appendChild(tocList);
    }
  </script>
  {% endif %}
</body>
</html> 